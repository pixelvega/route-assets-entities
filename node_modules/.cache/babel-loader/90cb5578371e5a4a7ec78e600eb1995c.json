{"ast":null,"code":"import _slicedToArray from \"/Users/pixelvega/Desktop/pau/elix-test/route-assets-entities/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/pixelvega/Desktop/pau/elix-test/route-assets-entities/src/components/assets.js\";\nimport React, { useReducer, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nlet keys = [];\n\nfunction appReducer(state, action) {\n  switch (action.type) {\n    case 'save':\n      {\n        let data = action.payload;\n        console.log('data', data);\n\n        if (data.length) {\n          for (const key in data[0]) {\n            console.log('keys: ', key);\n            keys.push(key);\n          }\n        }\n\n        console.log(keys);\n        return action.payload;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexport default function Assets() {\n  const _useReducer = useReducer(appReducer, []),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  const ENDPOINT = 'https://6y458uslg3.execute-api.eu-west-3.amazonaws.com/elixos/assets';\n  useEffect(() => {\n    axios.get(ENDPOINT).then(response => {\n      dispatch({\n        type: 'save',\n        payload: response.data.assets\n      });\n    }).catch(error => {\n      dispatch({\n        type: 'save',\n        payload: []\n      });\n    });\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"ASSETS\"), React.createElement(TableHead, {\n    keys: keys,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), state.map((item, i) => {\n    return React.createElement(Link, {\n      to: \"/entity/\".concat(item.id),\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      className: \"tr item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, item.id), React.createElement(\"td\", {\n      className: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, item.t_street_name), React.createElement(\"td\", {\n      className: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, item.n_number), React.createElement(\"td\", {\n      className: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, item.t_city), React.createElement(\"td\", {\n      className: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, item.t_code)));\n  }));\n}\n\nfunction TableHead({\n  keys\n}) {\n  return React.createElement(\"tr\", {\n    className: \"tr head\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, keys.map(key => React.createElement(\"th\", {\n    className: \"th\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, key)));\n}","map":{"version":3,"sources":["/Users/pixelvega/Desktop/pau/elix-test/route-assets-entities/src/components/assets.js"],"names":["React","useReducer","useEffect","Link","axios","keys","appReducer","state","action","type","data","payload","console","log","length","key","push","Assets","dispatch","ENDPOINT","get","then","response","assets","catch","error","map","item","i","id","t_street_name","n_number","t_city","t_code","TableHead"],"mappings":"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","sourcesContent":["import React, { useReducer, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nlet keys = [];\n\nfunction appReducer(state, action) {\n  switch (action.type) {\n    case 'save': {\n      let data = action.payload;\n      console.log('data', data)\n      if (data.length) {\n        for (const key in data[0]) {\n          console.log('keys: ', key)\n          keys.push(key);\n        }\n      }\n      console.log(keys);\n      return action.payload;\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nexport default function Assets() {\n  const [state, dispatch] = useReducer(appReducer, [])\n  const ENDPOINT = 'https://6y458uslg3.execute-api.eu-west-3.amazonaws.com/elixos/assets';\n\n  useEffect(() => {\n    axios.get(ENDPOINT)\n      .then(response => {\n        dispatch({ type: 'save', payload: response.data.assets })\n      })\n      .catch(error => {\n        dispatch({ type: 'save', payload: [] })\n      })\n  }, [])\n\n  return (\n    <div>\n      <div>ASSETS</div>\n      <TableHead keys={keys} />\n      {\n        state.map((item, i) => {\n          return (\n            <Link to={`/entity/${item.id}`} key={item.id}>\n              <tr className=\"tr item\">\n                <td className=\"td\">{item.id}</td>\n                <td className=\"td\">{item.t_street_name}</td>\n                <td className=\"td\">{item.n_number}</td>\n                <td className=\"td\">{item.t_city}</td>\n                <td className=\"td\">{item.t_code}</td>\n              </tr>\n            </Link>\n          )\n        })\n      }\n    </div>\n  );\n}\n\nfunction TableHead({ keys }) {\n  return (\n    <tr className=\"tr head\">\n      {keys.map(key => <th className=\"th\">{key}</th>)}\n    </tr>\n  );\n}"]},"metadata":{},"sourceType":"module"}
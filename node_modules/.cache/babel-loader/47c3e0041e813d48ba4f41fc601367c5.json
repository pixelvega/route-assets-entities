{"ast":null,"code":"import _slicedToArray from \"/Users/pixelvega/Desktop/pau/elix-test/route-assets-entities/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/pixelvega/Desktop/pau/elix-test/route-assets-entities/src/components/assets.js\";\nimport React, { useReducer, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nlet keys = [];\n\nfunction appReducer(state, action) {\n  switch (action.type) {\n    case 'save':\n      {\n        let data = action.payload;\n\n        if (data.length) {\n          for (const key in data[0]) {\n            keys.push(key);\n          }\n        }\n\n        return data;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexport default function Assets() {\n  const _useReducer = useReducer(appReducer, []),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  const ENDPOINT = 'https://6y458uslg3.execute-api.eu-west-3.amazonaws.com/elixos/assets';\n  useEffect(() => {\n    let didCancel = false;\n    axios.get(ENDPOINT).then(response => {\n      dispatch({\n        type: 'save',\n        payload: response.data.assets\n      });\n    }).catch(error => {\n      dispatch({\n        type: 'save',\n        payload: []\n      });\n    });\n    return () => {\n      didCancel = true;\n    };\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"ASSETS\"), React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    keys: keys,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(TableBody, {\n    state: state,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })));\n}\n\nfunction TableHead({\n  keys\n}) {\n  return React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    className: \"tr head\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, keys.map((key, i) => React.createElement(\"th\", {\n    className: \"th\",\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, key)), React.createElement(\"th\", {\n    className: \"th action\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })));\n}\n\nfunction TableBody({\n  state\n}) {\n  return React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, state.map((item, i) => {\n    return React.createElement(\"tr\", {\n      className: \"tr item\",\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, item.id), React.createElement(\"td\", {\n      className: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, item.t_street_name), React.createElement(\"td\", {\n      className: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, item.n_number), React.createElement(\"td\", {\n      className: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, item.t_city), React.createElement(\"td\", {\n      className: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, item.t_code), React.createElement(\"td\", {\n      className: \"td action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/entity/\".concat(item.id),\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"SEE\")));\n  }));\n}","map":{"version":3,"sources":["/Users/pixelvega/Desktop/pau/elix-test/route-assets-entities/src/components/assets.js"],"names":["React","useReducer","useEffect","Link","axios","keys","appReducer","state","action","type","data","payload","length","key","push","Assets","dispatch","ENDPOINT","didCancel","get","then","response","assets","catch","error","TableHead","map","i","TableBody","item","id","t_street_name","n_number","t_city","t_code"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAIC,IAAI,GAAG,EAAX;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2BC,MAA3B,EAAmC;AACjC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,MAAL;AAAa;AACX,YAAIC,IAAI,GAAGF,MAAM,CAACG,OAAlB;;AAEA,YAAID,IAAI,CAACE,MAAT,EAAiB;AACf,eAAK,MAAMC,GAAX,IAAkBH,IAAI,CAAC,CAAD,CAAtB,EAA2B;AACzBL,YAAAA,IAAI,CAACS,IAAL,CAAUD,GAAV;AACD;AACF;;AAED,eAAOH,IAAP;AACD;;AAED;AAAS;AACP,eAAOH,KAAP;AACD;AAfH;AAiBD;;AAED,eAAe,SAASQ,MAAT,GAAkB;AAAA,sBACLd,UAAU,CAACK,UAAD,EAAa,EAAb,CADL;AAAA;AAAA,QACxBC,KADwB;AAAA,QACjBS,QADiB;;AAE/B,QAAMC,QAAQ,GAAG,sEAAjB;AAEAf,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIgB,SAAS,GAAG,KAAhB;AACAd,IAAAA,KAAK,CAACe,GAAN,CAAUF,QAAV,EACGG,IADH,CACQC,QAAQ,IAAI;AAChBL,MAAAA,QAAQ,CAAC;AAAEP,QAAAA,IAAI,EAAE,MAAR;AAAgBE,QAAAA,OAAO,EAAEU,QAAQ,CAACX,IAAT,CAAcY;AAAvC,OAAD,CAAR;AACD,KAHH,EAIGC,KAJH,CAISC,KAAK,IAAI;AACdR,MAAAA,QAAQ,CAAC;AAAEP,QAAAA,IAAI,EAAE,MAAR;AAAgBE,QAAAA,OAAO,EAAE;AAAzB,OAAD,CAAR;AACD,KANH;AAOA,WAAO,MAAM;AACXO,MAAAA,SAAS,GAAG,IAAZ;AACD,KAFD;AAGD,GAZQ,EAYN,EAZM,CAAT;AAcA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAEb,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEE,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFF,CADF;AASD;;AAED,SAASkB,SAAT,CAAmB;AAAEpB,EAAAA;AAAF,CAAnB,EAA6B;AAC3B,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,IAAI,CAACqB,GAAL,CAAS,CAACb,GAAD,EAAMc,CAAN,KAAY;AAAI,IAAA,SAAS,EAAC,IAAd;AAAmB,IAAA,GAAG,EAAEA,CAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4Bd,GAA5B,CAArB,CADH,EAEE;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,CADF;AAQD;;AAED,SAASe,SAAT,CAAmB;AAAErB,EAAAA;AAAF,CAAnB,EAA8B;AAC5B,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIA,KAAK,CAACmB,GAAN,CAAU,CAACG,IAAD,EAAOF,CAAP,KAAa;AACrB,WACE;AAAI,MAAA,SAAS,EAAC,SAAd;AAAwB,MAAA,GAAG,EAAEA,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBE,IAAI,CAACC,EAAzB,CADF,EAEE;AAAI,MAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBD,IAAI,CAACE,aAAzB,CAFF,EAGE;AAAI,MAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBF,IAAI,CAACG,QAAzB,CAHF,EAIE;AAAI,MAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBH,IAAI,CAACI,MAAzB,CAJF,EAKE;AAAI,MAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBJ,IAAI,CAACK,MAAzB,CALF,EAME;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0B,oBAAC,IAAD;AAAM,MAAA,EAAE,oBAAaL,IAAI,CAACC,EAAlB,CAAR;AAAgC,MAAA,GAAG,EAAED,IAAI,CAACC,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA1B,CANF,CADF;AAUD,GAXD,CAFJ,CADF;AAkBD","sourcesContent":["import React, { useReducer, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nlet keys = [];\n\nfunction appReducer(state, action) {\n  switch (action.type) {\n    case 'save': {\n      let data = action.payload;\n\n      if (data.length) {\n        for (const key in data[0]) {\n          keys.push(key);\n        }\n      }\n\n      return data;\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nexport default function Assets() {\n  const [state, dispatch] = useReducer(appReducer, [])\n  const ENDPOINT = 'https://6y458uslg3.execute-api.eu-west-3.amazonaws.com/elixos/assets';\n\n  useEffect(() => {\n    let didCancel = false;\n    axios.get(ENDPOINT)\n      .then(response => {\n        dispatch({ type: 'save', payload: response.data.assets })\n      })\n      .catch(error => {\n        dispatch({ type: 'save', payload: [] })\n      })\n    return () => {\n      didCancel = true;\n    };\n  }, [])\n\n  return (\n    <div>\n      <h1>ASSETS</h1>\n      <table>\n        <TableHead keys={keys} />\n        <TableBody state={state} />\n      </table>\n    </div>\n  );\n}\n\nfunction TableHead({ keys }) {\n  return (\n    <thead>\n      <tr className=\"tr head\">\n        {keys.map((key, i) => <th className=\"th\" key={i}>{key}</th>)}\n        <th className=\"th action\"></th>\n      </tr>\n    </thead>\n  );\n}\n\nfunction TableBody({ state }) {\n  return (\n    <tbody>\n      {\n        state.map((item, i) => {\n          return (\n            <tr className=\"tr item\" key={i}>\n              <td className=\"td\">{item.id}</td>\n              <td className=\"td\">{item.t_street_name}</td>\n              <td className=\"td\">{item.n_number}</td>\n              <td className=\"td\">{item.t_city}</td>\n              <td className=\"td\">{item.t_code}</td>\n              <td className=\"td action\"><Link to={`/entity/${item.id}`} key={item.id}>SEE</Link></td>\n            </tr>\n          )\n        })\n      }\n    </tbody>\n  );\n}"]},"metadata":{},"sourceType":"module"}